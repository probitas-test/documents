{
  "name": "core",
  "specifier": "@probitas/core",
  "version": "0.1.0",
  "moduleDoc": "Core scenario definition types and utilities.\n\nThis package provides the fundamental type definitions that represent scenario\nstructures, along with utilities for loading scenario files and filtering\nscenarios using selectors. It serves as the foundation layer that other\nProbitas packages build upon.\n\n## Links\n\n- [GitHub Repository](https://github.com/jsr-probitas/probitas)\n- [@probitas/probitas](https://jsr.io/@probitas/probitas) - Main package (recommended for most users)\n\n## Related Packages\n\n| Package | Description |\n|---------|-------------|\n| [@probitas/builder](https://jsr.io/@probitas/builder) | Uses these types to build scenarios |\n| [@probitas/runner](https://jsr.io/@probitas/runner) | Executes scenario definitions |\n| [@probitas/discover](https://jsr.io/@probitas/discover) | Discovers scenario files to load |\n\n## Type Definitions\n\nThe type system is designed around immutable data structures:\n\n- {@linkcode ScenarioDefinition} - Complete scenario with name, options, and entries\n- {@linkcode StepDefinition} - Individual step with function, options, and source\n- {@linkcode SetupDefinition} - Setup hook with cleanup function support\n- {@linkcode ResourceDefinition} - Named resource with fn function\n- {@linkcode StepContext} - Context object passed to all functions\n- {@linkcode Entry} - Discriminated union of step, setup, or resource\n\n## Options Types\n\n- {@linkcode ScenarioOptions} - Scenario-level configuration (tags, default step options)\n- {@linkcode StepOptions} - Step execution settings (timeout, retry strategy)\n- Import `Origin` from `@probitas/core/origin` for file and line information\n\n## Function Types\n\n- {@linkcode StepFunction} - Signature for step execution functions\n- {@linkcode SetupFunction} - Signature for setup hooks (returns cleanup)\n- {@linkcode ResourceFunction} - Signature for resource creation functions\n- {@linkcode SetupCleanup} - Return type of setup functions\n\n## Loader Utilities\n\n- {@linkcode loadScenarios} - Load scenario definitions from file paths\n- {@linkcode LoadScenariosOptions} - Options for the loader\n\n## Selector Utilities\n\nSelectors provide powerful filtering capabilities:\n\n- {@linkcode applySelectors} - Filter scenarios using selector strings\n- {@linkcode parseSelector} - Parse selector string into Selector objects\n- {@linkcode matchesSelector} - Check if a scenario matches a single selector\n- {@linkcode Selector} - Parsed selector object\n- {@linkcode SelectorType} - Type of selector (\"tag\" or \"name\")\n",
  "exports": [
    {
      "name": "ScenarioOptions",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
        "line": 22,
        "col": 0,
        "byteIndex": 530
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Configuration options for scenario execution.\n\nDefines metadata and default behavior for an entire scenario.\n",
        "tags": [
          {
            "kind": "example",
            "doc": "```ts\nconst options: ScenarioOptions = {\n  tags: [\"api\", \"integration\", \"slow\"],\n  stepOptions: {\n    timeout: 60000,\n    retry: { maxAttempts: 2, backoff: \"linear\" }\n  }\n};\n```\n"
          },
          {
            "kind": "see",
            "doc": "{@linkcode StepOptions} for step-level configuration"
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "tags",
            "jsDoc": {
              "doc": "Tags for filtering and organizing scenarios.\n\nTags can be used with the CLI to run specific subsets:\n```bash\nprobitas run -s \"tag:api\"           # Run scenarios tagged \"api\"\nprobitas run -s \"tag:api,tag:fast\"  # Run scenarios with both tags\nprobitas run -s \"!tag:slow\"         # Exclude slow scenarios\n```"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 33,
              "col": 2,
              "byteIndex": 924
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "string",
                    "kind": "keyword",
                    "keyword": "string"
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "stepOptions",
            "jsDoc": {
              "doc": "Default options applied to all steps in this scenario.\n\nIndividual steps can override these defaults by specifying\ntheir own options in the `.step()` call."
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 41,
              "col": 2,
              "byteIndex": 1149
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "StepOptions",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "StepOptions"
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": []
      }
    },
    {
      "name": "ScenarioDefinition",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
        "line": 75,
        "col": 0,
        "byteIndex": 2321
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Complete, immutable definition of a scenario.\n\nThis is the core type produced by the builder and consumed by the runner.\nIt contains everything needed to execute a scenario: its name, options,\nand ordered sequence of entries (steps, resources, setups).\n",
        "tags": [
          {
            "kind": "unsupported",
            "value": "@remarks\nScenario definitions are:\n- **Immutable**: The entries array is frozen after creation\n- **Self-contained**: All options have defaults applied\n- **Portable**: Can be serialized (minus functions) for tooling\n"
          },
          {
            "kind": "example",
            "doc": "Typical scenario structure\n```ts\n// Created by: scenario(\"Login Flow\").step(...).build()\nconst definition: ScenarioDefinition = {\n  name: \"Login Flow\",\n  options: {\n    tags: [\"auth\", \"smoke\"],\n    stepOptions: { timeout: 30000, retry: { maxAttempts: 1, backoff: \"linear\" } }\n  },\n  entries: [\n    { kind: \"resource\", value: { name: \"api\", fn: ... } },\n    { kind: \"step\", value: { name: \"Login\", fn: ..., options: ... } },\n    { kind: \"step\", value: { name: \"Verify\", fn: ..., options: ... } }\n  ],\n  origin: { path: \"/tests/auth.probitas.ts\", line: 5 }\n};\n```"
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "name",
            "jsDoc": {
              "doc": "Human-readable scenario name (displayed in reports and CLI)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 77,
              "col": 2,
              "byteIndex": 2430
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "string",
              "kind": "keyword",
              "keyword": "string"
            },
            "typeParams": []
          },
          {
            "name": "tags",
            "jsDoc": {
              "doc": "Tags for filtering and organizing scenarios.\n\nTags can be used with the CLI to run specific subsets:\n```bash\nprobitas run -s \"tag:api\"           # Run scenarios tagged \"api\"\nprobitas run -s \"tag:api,tag:fast\"  # Run scenarios with both tags\nprobitas run -s \"!tag:slow\"         # Exclude slow scenarios\n```"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 89,
              "col": 2,
              "byteIndex": 2813
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "string",
                    "kind": "keyword",
                    "keyword": "string"
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "steps",
            "jsDoc": {
              "doc": "Ordered sequence of entries (resources → setups → steps)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 92,
              "col": 2,
              "byteIndex": 2920
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "StepDefinition",
                    "kind": "typeRef",
                    "typeRef": {
                      "typeParams": null,
                      "typeName": "StepDefinition"
                    }
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "origin",
            "jsDoc": {
              "doc": "Origin where the scenario was defined"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 95,
              "col": 2,
              "byteIndex": 3013
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "Origin",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "Origin"
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": []
      }
    },
    {
      "name": "ScenarioMetadata",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
        "line": 116,
        "col": 0,
        "byteIndex": 3569
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Serializable scenario metadata (without executable functions).\n\nUsed by the JSON reporter and tooling to output scenario information\nwithout including non-serializable function references.\n",
        "tags": [
          {
            "kind": "example",
            "doc": "JSON reporter output\n```json\n{\n  \"name\": \"Login Flow\",\n  \"options\": { \"tags\": [\"auth\"], \"stepOptions\": { ... } },\n  \"entries\": [\n    { \"kind\": \"step\", \"value\": { \"name\": \"Login\", \"options\": { ... } } }\n  ],\n  \"origin\": { \"path\": \"/tests/auth.probitas.ts\", \"line\": 5 }\n}\n```"
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "name",
            "jsDoc": {
              "doc": "Scenario name"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 118,
              "col": 2,
              "byteIndex": 3630
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "string",
              "kind": "keyword",
              "keyword": "string"
            },
            "typeParams": []
          },
          {
            "name": "tags",
            "jsDoc": {
              "doc": "Tags for filtering and organizing scenarios.\n\nTags can be used with the CLI to run specific subsets:\n```bash\nprobitas run -s \"tag:api\"           # Run scenarios tagged \"api\"\nprobitas run -s \"tag:api,tag:fast\"  # Run scenarios with both tags\nprobitas run -s \"!tag:slow\"         # Exclude slow scenarios\n```"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 130,
              "col": 2,
              "byteIndex": 4013
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "string",
                    "kind": "keyword",
                    "keyword": "string"
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "steps",
            "jsDoc": {
              "doc": "Entry metadata (functions omitted for serialization)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 133,
              "col": 2,
              "byteIndex": 4112
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "StepMetadata",
                    "kind": "typeRef",
                    "typeRef": {
                      "typeParams": null,
                      "typeName": "StepMetadata"
                    }
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "origin",
            "jsDoc": {
              "doc": "Origin where the scenario was defined"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/scenario.ts",
              "line": 136,
              "col": 2,
              "byteIndex": 4203
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "Origin",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "Origin"
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": []
      }
    },
    {
      "name": "StepOptions",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 22,
        "col": 0,
        "byteIndex": 547
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Configuration options for individual step execution.\n\nControls timeout and retry behavior for a step. These options can be set at:\n1. Step level (highest priority)\n2. Scenario level (applies to all steps in scenario)\n3. Default values (30s timeout, no retry)\n",
        "tags": [
          {
            "kind": "example",
            "doc": "```ts\nconst options: StepOptions = {\n  timeout: 60000,  // 60 seconds\n  retry: {\n    maxAttempts: 3,\n    backoff: \"exponential\"  // Waits 1s, 2s, 4s between retries\n  }\n};\n```"
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "timeout",
            "jsDoc": {
              "doc": "Maximum execution time in milliseconds.\n\nIf the step takes longer, a {@linkcode TimeoutError} is thrown.\nDefault: 30000 (30 seconds)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 29,
              "col": 2,
              "byteIndex": 744
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "number",
              "kind": "keyword",
              "keyword": "number"
            },
            "typeParams": []
          },
          {
            "name": "retry",
            "jsDoc": {
              "doc": "Retry configuration for handling transient failures"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 32,
              "col": 2,
              "byteIndex": 835
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "",
              "kind": "typeLiteral",
              "typeLiteral": {
                "constructors": [],
                "methods": [],
                "properties": [
                  {
                    "name": "maxAttempts",
                    "jsDoc": {
                      "doc": "Maximum number of execution attempts.\n\n- `1` = No retry (fail immediately on error)\n- `2` = One retry (2 total attempts)\n- `n` = n-1 retries (n total attempts)\n\nDefault: 1 (no retry)"
                    },
                    "location": {
                      "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
                      "line": 42,
                      "col": 4,
                      "byteIndex": 1104
                    },
                    "params": [],
                    "readonly": true,
                    "computed": false,
                    "optional": true,
                    "tsType": {
                      "repr": "number",
                      "kind": "keyword",
                      "keyword": "number"
                    },
                    "typeParams": []
                  },
                  {
                    "name": "backoff",
                    "jsDoc": {
                      "doc": "Backoff strategy for delay between retry attempts.\n\n- `\"linear\"`: Fixed 1 second delay between attempts\n- `\"exponential\"`: Doubles delay each attempt (1s, 2s, 4s, 8s...)\n\nDefault: \"linear\""
                    },
                    "location": {
                      "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
                      "line": 52,
                      "col": 4,
                      "byteIndex": 1385
                    },
                    "params": [],
                    "readonly": true,
                    "computed": false,
                    "optional": true,
                    "tsType": {
                      "repr": "",
                      "kind": "union",
                      "union": [
                        {
                          "repr": "linear",
                          "kind": "literal",
                          "literal": {
                            "kind": "string",
                            "string": "linear"
                          }
                        },
                        {
                          "repr": "exponential",
                          "kind": "literal",
                          "literal": {
                            "kind": "string",
                            "string": "exponential"
                          }
                        }
                      ]
                    },
                    "typeParams": []
                  }
                ],
                "callSignatures": [],
                "indexSignatures": []
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": []
      }
    },
    {
      "name": "SetupCleanup",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 89,
        "col": 0,
        "byteIndex": 2409
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Cleanup handler returned by setup functions.\n\nSetup functions can return various cleanup mechanisms that are automatically\ninvoked after the scenario completes (regardless of success or failure).\n\nSupported cleanup patterns:\n- `void` / `undefined`: No cleanup needed\n- `() => void`: Synchronous cleanup function\n- `() => Promise<void>`: Async cleanup function\n- `Disposable`: Object with `[Symbol.dispose]()` method\n- `AsyncDisposable`: Object with `[Symbol.asyncDispose]()` method\n",
        "tags": [
          {
            "kind": "example",
            "doc": "Cleanup function\n```ts\nscenario(\"File Test\")\n  .setup(() => {\n    const file = Deno.makeTempFileSync();\n    return () => Deno.removeSync(file);  // Cleanup function\n  })\n  .build();\n```\n"
          },
          {
            "kind": "example",
            "doc": "Disposable object\n```ts\nscenario(\"Connection Test\")\n  .setup(async () => {\n    const conn = await connect();\n    return conn;  // If conn implements AsyncDisposable\n  })\n  .build();\n```"
          }
        ]
      },
      "kind": "typeAlias",
      "typeAliasDef": {
        "tsType": {
          "repr": "",
          "kind": "union",
          "union": [
            {
              "repr": "void",
              "kind": "keyword",
              "keyword": "void"
            },
            {
              "repr": "",
              "kind": "parenthesized",
              "parenthesized": {
                "repr": "",
                "kind": "fnOrConstructor",
                "fnOrConstructor": {
                  "constructor": false,
                  "tsType": {
                    "repr": "",
                    "kind": "union",
                    "union": [
                      {
                        "repr": "void",
                        "kind": "keyword",
                        "keyword": "void"
                      },
                      {
                        "repr": "Promise",
                        "kind": "typeRef",
                        "typeRef": {
                          "typeParams": [
                            {
                              "repr": "void",
                              "kind": "keyword",
                              "keyword": "void"
                            }
                          ],
                          "typeName": "Promise"
                        }
                      }
                    ]
                  },
                  "params": [],
                  "typeParams": []
                }
              }
            },
            {
              "repr": "Disposable",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "Disposable"
              }
            },
            {
              "repr": "AsyncDisposable",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "AsyncDisposable"
              }
            }
          ]
        },
        "typeParams": []
      }
    },
    {
      "name": "StepContext",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 128,
        "col": 0,
        "byteIndex": 3463
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Execution context provided to steps, resources, and setup hooks.\n\nThe context provides access to:\n- Previous step results with full type inference\n- All accumulated results as a typed tuple\n- Named resources registered with `.resource()`\n- Shared storage for cross-step communication\n- Abort signal for timeout and cancellation handling\n",
        "tags": [
          {
            "kind": "example",
            "doc": "Accessing previous result\n```ts\nscenario(\"Chained Steps\")\n  .step(\"First\", () => ({ id: 123 }))\n  .step(\"Second\", (ctx) => {\n    console.log(ctx.previous.id);  // 123 (typed as number)\n  })\n  .build();\n```\n"
          },
          {
            "kind": "example",
            "doc": "Using shared store\n```ts\nscenario(\"Store Example\")\n  .setup((ctx) => {\n    ctx.store.set(\"startTime\", Date.now());\n  })\n  .step(\"Check duration\", (ctx) => {\n    const start = ctx.store.get(\"startTime\") as number;\n    console.log(`Elapsed: ${Date.now() - start}ms`);\n  })\n  .build();\n```"
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "index",
            "jsDoc": {
              "doc": "Current step index (0-based).\n\nUseful for conditional logic based on position in the scenario."
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 134,
              "col": 2,
              "byteIndex": 3617
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "number",
              "kind": "keyword",
              "keyword": "number"
            },
            "typeParams": []
          },
          {
            "name": "previous",
            "jsDoc": {
              "doc": "Result from the previous step.\n\nFully typed based on what the previous step returned.\nFor the first step, this is `unknown`."
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 142,
              "col": 2,
              "byteIndex": 3800
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "unknown",
              "kind": "keyword",
              "keyword": "unknown"
            },
            "typeParams": []
          },
          {
            "name": "results",
            "jsDoc": {
              "doc": "All accumulated results as a typed tuple.\n\nAllows accessing any previous result by index:\n```ts\nctx.results[0]  // First step's result\nctx.results[1]  // Second step's result\n```"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 153,
              "col": 2,
              "byteIndex": 4056
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeOperator",
              "typeOperator": {
                "operator": "readonly",
                "tsType": {
                  "repr": "",
                  "kind": "array",
                  "array": {
                    "repr": "unknown",
                    "kind": "keyword",
                    "keyword": "unknown"
                  }
                }
              }
            },
            "typeParams": []
          },
          {
            "name": "store",
            "jsDoc": {
              "doc": "Shared key-value storage for cross-step communication.\n\nUse this for data that doesn't fit the step result pattern,\nsuch as metadata or configuration set during setup."
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 161,
              "col": 2,
              "byteIndex": 4296
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "Map",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": [
                  {
                    "repr": "string",
                    "kind": "keyword",
                    "keyword": "string"
                  },
                  {
                    "repr": "unknown",
                    "kind": "keyword",
                    "keyword": "unknown"
                  }
                ],
                "typeName": "Map"
              }
            },
            "typeParams": []
          },
          {
            "name": "resources",
            "jsDoc": {
              "doc": "Named resources registered with `.resource()`.\n\nResources are typed based on their registration:\n```ts\n.resource(\"db\", () => createDbConnection())\n.step((ctx) => ctx.resources.db.query(...))\n```"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 172,
              "col": 2,
              "byteIndex": 4578
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "Record",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": [
                  {
                    "repr": "string",
                    "kind": "keyword",
                    "keyword": "string"
                  },
                  {
                    "repr": "unknown",
                    "kind": "keyword",
                    "keyword": "unknown"
                  }
                ],
                "typeName": "Record"
              }
            },
            "typeParams": []
          },
          {
            "name": "signal",
            "jsDoc": {
              "doc": "Abort signal that fires on timeout or manual cancellation.\n\nPass this to fetch() or other APIs that support AbortSignal\nfor proper timeout handling."
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 180,
              "col": 2,
              "byteIndex": 4806
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "AbortSignal",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "AbortSignal"
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": []
      }
    },
    {
      "name": "StepFunction",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 206,
        "col": 0,
        "byteIndex": 5448
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Function signature for step execution.\n\nA step function receives the execution context and returns a value\n(sync or async) that becomes available to subsequent steps.\n",
        "tags": [
          {
            "kind": "template",
            "name": "T",
            "doc": "- Type of this step's return value\n"
          },
          {
            "kind": "example",
            "doc": "Sync step returning data\n```ts\nconst step: StepFunction<{ name: string }> = (ctx) => {\n  return { name: \"Alice\" };\n};\n```\n"
          },
          {
            "kind": "example",
            "doc": "Async step with API call\n```ts\nconst step: StepFunction<User> = async (ctx) => {\n  const response = await fetch(\"/api/user\", { signal: ctx.signal });\n  return response.json();\n};\n```"
          }
        ]
      },
      "kind": "typeAlias",
      "typeAliasDef": {
        "tsType": {
          "repr": "",
          "kind": "fnOrConstructor",
          "fnOrConstructor": {
            "constructor": false,
            "tsType": {
              "repr": "",
              "kind": "union",
              "union": [
                {
                  "repr": "T",
                  "kind": "typeRef",
                  "typeRef": {
                    "typeParams": null,
                    "typeName": "T"
                  }
                },
                {
                  "repr": "Promise",
                  "kind": "typeRef",
                  "typeRef": {
                    "typeParams": [
                      {
                        "repr": "T",
                        "kind": "typeRef",
                        "typeRef": {
                          "typeParams": null,
                          "typeName": "T"
                        }
                      }
                    ],
                    "typeName": "Promise"
                  }
                }
              ]
            },
            "params": [
              {
                "kind": "identifier",
                "name": "ctx",
                "optional": false,
                "tsType": {
                  "repr": "StepContext",
                  "kind": "typeRef",
                  "typeRef": {
                    "typeParams": null,
                    "typeName": "StepContext"
                  }
                }
              }
            ],
            "typeParams": []
          }
        },
        "typeParams": [
          {
            "name": "T",
            "default": {
              "repr": "unknown",
              "kind": "keyword",
              "keyword": "unknown"
            }
          }
        ]
      }
    },
    {
      "name": "StepDefinition",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 220,
        "col": 0,
        "byteIndex": 5911
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Immutable definition of a scenario step.\n\nContains all information needed to execute a single step:\nthe step function, its options, and debugging metadata.\n",
        "tags": [
          {
            "kind": "template",
            "name": "T",
            "doc": "- Type of this step's return value\n"
          },
          {
            "kind": "unsupported",
            "value": "@remarks\nStep definitions are created by the builder and consumed by the runner.\nThey are immutable and should not be modified after creation."
          }
        ]
      },
      "kind": "interface",
      "interfaceDef": {
        "extends": [],
        "constructors": [],
        "methods": [],
        "properties": [
          {
            "name": "kind",
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 221,
              "col": 2,
              "byteIndex": 5960
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "union",
              "union": [
                {
                  "repr": "step",
                  "kind": "literal",
                  "literal": {
                    "kind": "string",
                    "string": "step"
                  }
                },
                {
                  "repr": "resource",
                  "kind": "literal",
                  "literal": {
                    "kind": "string",
                    "string": "resource"
                  }
                },
                {
                  "repr": "setup",
                  "kind": "literal",
                  "literal": {
                    "kind": "string",
                    "string": "setup"
                  }
                }
              ]
            },
            "typeParams": []
          },
          {
            "name": "name",
            "jsDoc": {
              "doc": "Human-readable step name (displayed in reports)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 224,
              "col": 2,
              "byteIndex": 6066
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "string",
              "kind": "keyword",
              "keyword": "string"
            },
            "typeParams": []
          },
          {
            "name": "fn",
            "jsDoc": {
              "doc": "Step function to execute"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 227,
              "col": 2,
              "byteIndex": 6126
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "StepFunction",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": [
                  {
                    "repr": "T",
                    "kind": "typeRef",
                    "typeRef": {
                      "typeParams": null,
                      "typeName": "T"
                    }
                  }
                ],
                "typeName": "StepFunction"
              }
            },
            "typeParams": []
          },
          {
            "name": "timeout",
            "jsDoc": {
              "doc": "Maximum execution time in milliseconds.\n\nIf the step takes longer, a {@linkcode TimeoutError} is thrown.\nDefault: 30000 (30 seconds)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 235,
              "col": 2,
              "byteIndex": 6323
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "number",
              "kind": "keyword",
              "keyword": "number"
            },
            "typeParams": []
          },
          {
            "name": "retry",
            "jsDoc": {
              "doc": "Retry configuration for handling transient failures"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 238,
              "col": 2,
              "byteIndex": 6413
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": false,
            "tsType": {
              "repr": "",
              "kind": "typeLiteral",
              "typeLiteral": {
                "constructors": [],
                "methods": [],
                "properties": [
                  {
                    "name": "maxAttempts",
                    "jsDoc": {
                      "doc": "Maximum number of execution attempts.\n\n- `1` = No retry (fail immediately on error)\n- `2` = One retry (2 total attempts)\n- `n` = n-1 retries (n total attempts)\n\nDefault: 1 (no retry)"
                    },
                    "location": {
                      "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
                      "line": 248,
                      "col": 4,
                      "byteIndex": 6681
                    },
                    "params": [],
                    "readonly": true,
                    "computed": false,
                    "optional": false,
                    "tsType": {
                      "repr": "number",
                      "kind": "keyword",
                      "keyword": "number"
                    },
                    "typeParams": []
                  },
                  {
                    "name": "backoff",
                    "jsDoc": {
                      "doc": "Backoff strategy for delay between retry attempts.\n\n- `\"linear\"`: Fixed 1 second delay between attempts\n- `\"exponential\"`: Doubles delay each attempt (1s, 2s, 4s, 8s...)\n\nDefault: \"linear\""
                    },
                    "location": {
                      "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
                      "line": 258,
                      "col": 4,
                      "byteIndex": 6961
                    },
                    "params": [],
                    "readonly": true,
                    "computed": false,
                    "optional": false,
                    "tsType": {
                      "repr": "",
                      "kind": "union",
                      "union": [
                        {
                          "repr": "linear",
                          "kind": "literal",
                          "literal": {
                            "kind": "string",
                            "string": "linear"
                          }
                        },
                        {
                          "repr": "exponential",
                          "kind": "literal",
                          "literal": {
                            "kind": "string",
                            "string": "exponential"
                          }
                        }
                      ]
                    },
                    "typeParams": []
                  }
                ],
                "callSignatures": [],
                "indexSignatures": []
              }
            },
            "typeParams": []
          },
          {
            "name": "origin",
            "jsDoc": {
              "doc": "Origin where the step was defined (for error messages)"
            },
            "location": {
              "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
              "line": 262,
              "col": 2,
              "byteIndex": 7077
            },
            "params": [],
            "readonly": true,
            "computed": false,
            "optional": true,
            "tsType": {
              "repr": "Origin",
              "kind": "typeRef",
              "typeRef": {
                "typeParams": null,
                "typeName": "Origin"
              }
            },
            "typeParams": []
          }
        ],
        "callSignatures": [],
        "indexSignatures": [],
        "typeParams": [
          {
            "name": "T",
            "default": {
              "repr": "unknown",
              "kind": "keyword",
              "keyword": "unknown"
            }
          }
        ]
      }
    },
    {
      "name": "StepMetadata",
      "isDefault": false,
      "location": {
        "filename": "https://jsr.io/@probitas/core/0.1.0/types/step.ts",
        "line": 270,
        "col": 0,
        "byteIndex": 7244
      },
      "declarationKind": "export",
      "jsDoc": {
        "doc": "Serializable step metadata (without the function).\n\nUsed for JSON output, tooling, and inspection without executing code."
      },
      "kind": "typeAlias",
      "typeAliasDef": {
        "tsType": {
          "repr": "Omit",
          "kind": "typeRef",
          "typeRef": {
            "typeParams": [
              {
                "repr": "StepDefinition",
                "kind": "typeRef",
                "typeRef": {
                  "typeParams": null,
                  "typeName": "StepDefinition"
                }
              },
              {
                "repr": "fn",
                "kind": "literal",
                "literal": {
                  "kind": "string",
                  "string": "fn"
                }
              }
            ],
            "typeName": "Omit"
          }
        },
        "typeParams": []
      }
    }
  ],
  "generatedAt": "2025-12-16T07:16:30.307Z"
}
